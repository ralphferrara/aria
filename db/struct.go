//||------------------------------------------------------------------------------------------------||
//|| DB Package: Types & Configs
//|| types.go
//||------------------------------------------------------------------------------------------------||

package db

import (
	"database/sql"

	"go.mongodb.org/mongo-driver/mongo"
	"gorm.io/gorm"
)

//||------------------------------------------------------------------------------------------------||
//|| DB: Backend Enum
//||------------------------------------------------------------------------------------------------||

type DBBackend string

//||------------------------------------------------------------------------------------------------||
//|| DB: Backend Enum
//||------------------------------------------------------------------------------------------------||

const (
	BackendPostgres DBBackend = "POSTGRES"
	BackendMySQL    DBBackend = "MYSQL"
	BackendMariaDB  DBBackend = "MARIADB"
	BackendMongo    DBBackend = "MONGO"
)

//||------------------------------------------------------------------------------------------------||
//|| GormWrapper: GORM SQL Wrapper
//||------------------------------------------------------------------------------------------------||

type GormWrapper struct {
	Name string
	DB   *gorm.DB
}

//||------------------------------------------------------------------------------------------------||
//|| DBWrapper: SQL Wrapper
//||------------------------------------------------------------------------------------------------||

type DBWrapper struct {
	Name string
	DB   *sql.DB
}

//||------------------------------------------------------------------------------------------------||
//|| MongoWrapper: Mongo Wrapper
//||------------------------------------------------------------------------------------------------||

type MongoWrapper struct {
	Name     string
	Database *mongo.Database
}

//||------------------------------------------------------------------------------------------------||
//|| DB: SQL DB Config
//||------------------------------------------------------------------------------------------------||

type DBConfig struct {
	Driver   string `json:"driver"`
	Host     string `json:"host"`
	Port     int    `json:"port"`
	User     string `json:"user"`
	Password string `json:"password"`
	Database string `json:"database"`
	SSLMode  string `json:"sslmode,omitempty"`
}

//||------------------------------------------------------------------------------------------------||
//|| DB: Mongo Config
//||------------------------------------------------------------------------------------------------||

type MongoConfig struct {
	URI      string `json:"uri"`
	Database string `json:"database"`
}
